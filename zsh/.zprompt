# -- .zprompt ------------------------------------------------------ {{{

autoload -U colors && colors

function __git_branch() {
  git branch 2> /dev/null | sed -e "/^[^*]/d" -e "s/* \(.*\)/(\1)/"
}

PROMPT="%{$fg[green]%}%n %{$fg[red]%}%~ %{$fg[yellow]%}\$(__git_branch)
%{$fg[cyan]%}\$%{$reset_color%} "
SPROMPT="Correct %{$fg[red]%}%R%{$reset_color%} to %{$fg[green]%}%r%{$reset_color%}? (yes, no, abort, edit) "

function zle-line-init zle-keymap-select {
  VIMODE="${${KEYMAP/(vicmd|opp)/NORMAL}/(main|viins)/INSERT}"
  RPROMPT="%B${VIMODE}%{$reset_color%}"
  zle reset-prompt
}

zle -N zle-line-init
zle -N zle-keymap-select

autoload -U promptinit && promptinit

# }}}

# vim:foldmethod=marker:filetype=zsh
